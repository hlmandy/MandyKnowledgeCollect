**参考文献：**

《Forecasting Principle and Practice》by Rob J Hyndman 一本基础的预测书籍

https://otexts.com/fppcn/x11.html#ref-Dagum2016







## 时间序列趋势分解

时间序列数据有这样几种组成部分：

1. trend	趋势
2. seasonality	季节性
3. 其他



### Trend & 移动平均

趋势分解的方法：最常见的为移动平均moving average。以某一个日期为中心，进行移动平均。

$\hat{T_t}=\frac{1}{\mathrm{~m}} \sum_{\mathrm{j}=-\mathrm{k}}^{\mathrm{k}} \mathrm{y}_{\mathrm{t}+\mathrm{j}}$,

如果m为偶数，可以再进行一次m=2的移动平均[^1]。

也可以是用加权移动平均：好处是更加smooth，防止异常点进入/离开计算公式。（也就是说，离中心点远的值的权重较小。）



### 分解方法

#### 传统方法中的 addictive

$y_t=S_t + T_t + R_t$

STEP1. 决定m，计算趋势项 $\hat{T_t}$ 。如果m为偶数，则再进行一次m=2的移动平均

STEP2. 计算detrended：$y_t-\hat{T_t}$

STEP3. 计算每个season的均值，即为 $\hat{S_t}$

STEP4. 计算剩余项： $\hat{R_t} = y_t -\hat{T_t}-\hat{S_t}$



> 缺点：对于波峰和波谷过度平滑、首尾几期无法预测



#### X11 分解









[^1]: 《Forecasting Principle and Practice》by Rob J Hyndman













