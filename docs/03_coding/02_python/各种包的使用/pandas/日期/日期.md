# 日期

字符串改日期

```python
sale_df['Flight_Date'] = pd.to_datetime(sale_df['Flight_Date'],errors='coerce',format='%Y%m%d')
```

星期几

```python
sale_df['Flight_Date'].dt.dayofweek
```

日期改字符串

```python
orig_data['航班日期'] = orig_data['航班日期'].dt.strftime('%Y-%m-%d')
```

根据日期筛选数据

```python
## --- select one week oag data
s_date = datetime.strptime('20190422','%Y%m%d')
e_date = datetime.strptime('20190428','%Y%m%d')
one_week_oag = select_oag_df[(select_oag_df['flight_date']>=s_date) & (select_oag_df['flight_date']>=e_date)]
```

日期相减得到秒、小时、天数

```python
df['diff_date_second'] = ((df['datetime'] - df['last_datetime'])/pd.Timedelta(1, 'S')).fillna(0).astype(int)
df['diff_date_minute'] = ((df['datetime'] - df['last_datetime'])/pd.Timedelta(1, 'min')).fillna(0).astype(int)
df['diff_date_hour'] = ((df['datetime'] - df['last_datetime'])/pd.Timedelta(1, 'H')).fillna(0).astype(int)
df['diff_date_day'] = ((df['datetime'] - df['last_datetime'])/pd.Timedelta(1, 'D')).fillna(0).astype(int)

```
